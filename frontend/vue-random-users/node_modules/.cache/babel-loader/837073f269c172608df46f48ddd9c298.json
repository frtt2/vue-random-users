{"remainingRequest":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/babel-loader/lib/index.js!/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/src/views/Details.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/src/views/Details.vue","mtime":1617032543235},{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3hvbzMvRG9jdW1lbnRvcy9BQ0NJT05BL2FwbGljYWNpb24vdnVlLXJhbmRvbS11c2Vycy9mcm9udGVuZC92dWUtcmFuZG9tLXVzZXJzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbWRiQ29udGFpbmVyLCBtZGJSb3csIG1kYkNvbCwgbWRiQnRuLCBtZGJJY29uLCBtZGJDYXJkLCBtZGJWaWV3LCBtZGJNYXNrLCBtZGJDYXJkSW1hZ2UsIG1kYkNhcmRUaXRsZSwgbWRiQ2FyZFRleHQsIG1kYkNhcmRGb290ZXIsIG1kYkNhcmRCb2R5IH0gZnJvbSAnbWRidnVlJzsgLy9pbXBvcnQgTWFwIGZyb20gIi4uL2NvbXBvbmVudHMvTWFwRGV0YWlscyI7CgppbXBvcnQgVnVlIGZyb20gInZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnVXNlcnMnLAogIHByb3BzOiB7CiAgICB1c2VyOiBPYmplY3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmYXZvdXJpdGVzVXNlcnM6IFtdLAogICAgICBlcnJvcjogZmFsc2UKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBtZGJDb250YWluZXI6IG1kYkNvbnRhaW5lciwKICAgIG1kYlJvdzogbWRiUm93LAogICAgbWRiQ29sOiBtZGJDb2wsCiAgICBtZGJCdG46IG1kYkJ0biwKICAgIG1kYkljb246IG1kYkljb24sCiAgICBtZGJDYXJkOiBtZGJDYXJkLAogICAgbWRiVmlldzogbWRiVmlldywKICAgIG1kYk1hc2s6IG1kYk1hc2ssCiAgICBtZGJDYXJkSW1hZ2U6IG1kYkNhcmRJbWFnZSwKICAgIG1kYkNhcmRUaXRsZTogbWRiQ2FyZFRpdGxlLAogICAgbWRiQ2FyZFRleHQ6IG1kYkNhcmRUZXh0LAogICAgbWRiQ2FyZEZvb3RlcjogbWRiQ2FyZEZvb3RlciwKICAgIG1kYkNhcmRCb2R5OiBtZGJDYXJkQm9keQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdEZhdm91cml0ZXMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXRGYXZvdXJpdGVzOiBmdW5jdGlvbiBpbml0RmF2b3VyaXRlcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0RmF2b3VyaXRlcygpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5tYXRjaEZhdm91cml0ZXMoKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoYW5nZUZhdm91cml0ZTogZnVuY3Rpb24gY2hhbmdlRmF2b3VyaXRlKGlkLCBuYW1lKSB7CiAgICAgIGlmICh0aGlzLnVzZXIuZmF2b3VyaXRlID09IHRydWUpIHsKICAgICAgICB0aGlzLmRlbGV0ZUZhdm91cml0ZShpZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wb3N0RmF2b3VyaXRlKGlkLCBuYW1lKTsKICAgICAgfQogICAgfSwKICAgIHBvc3RGYXZvdXJpdGU6IGZ1bmN0aW9uIHBvc3RGYXZvdXJpdGUoaWQsIG5hbWUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgdXNlciA9IHsKICAgICAgICBpZDogaWQsCiAgICAgICAgbmFtZTogbmFtZQogICAgICB9OwogICAgICBWdWUuYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL3VzZXJzIiwgdXNlcikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLmdldEZhdm91cml0ZXMoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5lcnJvciA9IHRydWU7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEZhdm91cml0ZXM6IGZ1bmN0aW9uIGdldEZhdm91cml0ZXMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgVnVlLmF4aW9zKCJodHRwOi8vbG9jYWxob3N0OjMwMDAvdXNlcnMiKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBfdGhpczMuZmF2b3VyaXRlc1VzZXJzID0gcmVzdWx0LmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuZXJyb3IgPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVGYXZvdXJpdGU6IGZ1bmN0aW9uIGRlbGV0ZUZhdm91cml0ZShpZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIFZ1ZS5heGlvcy5kZWxldGUoImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC91c2Vycy8iICsgaWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNC5nZXRGYXZvdXJpdGVzKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuZXJyb3IgPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICBtYXRjaEZhdm91cml0ZXM6IGZ1bmN0aW9uIG1hdGNoRmF2b3VyaXRlcygpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZyh0aGlzLmZhdm91cml0ZXNVc2Vycyk7CgogICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChuKSB7CiAgICAgICAgaWYgKF90aGlzNS5mYXZvdXJpdGVzVXNlcnMuZmluZChmdW5jdGlvbiAodXNlcikgewogICAgICAgICAgcmV0dXJuIHVzZXIuaWQgPT0gX3RoaXM1LiRwYXJlbnQudXNlcnNbbl0uaWQ7CiAgICAgICAgfSkpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdlbnRyYScpOwoKICAgICAgICAgIGlmIChfdGhpczUuJHBhcmVudC51c2Vyc1tuXS5mYXZvdXJpdGUgPT0gdHJ1ZSkgewogICAgICAgICAgICBfdGhpczUuJHBhcmVudC51c2Vyc1tuXS5mYXZvdXJpdGUgPSBmYWxzZTsKICAgICAgICAgICAgX3RoaXM1LnVzZXIuZmF2b3VyaXRlID0gZmFsc2U7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcyBmYWxzZScpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM1LiRwYXJlbnQudXNlcnNbbl0uZmF2b3VyaXRlID0gdHJ1ZTsKICAgICAgICAgICAgX3RoaXM1LnVzZXIuZmF2b3VyaXRlID0gdHJ1ZTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ2VzIHRydWUnKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CgogICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHRoaXMuJHBhcmVudC51c2Vycy5sZW5ndGg7IG4rKykgewogICAgICAgIF9sb29wKG4pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Details.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <mdb-container class=\"mt-4\">\n     <mdb-row class=\"d-flex justify-content-end\">\n        <mdb-btn class=\"mr-3\" color=\"primary\" @click=\"$router.push({ name: 'Users'})\"><mdb-icon icon=\"arrow-left\"/></mdb-btn>\n    </mdb-row>\n    <mdb-card wide>\n      <mdb-view hover cascade>\n        <mdb-row>\n          <mdb-col col=\"4\">\n            <mdb-card-image v-bind:src=\"user.imageLarge\" alt=\"Card image cap\" ></mdb-card-image>\n            <mdb-mask flex-center waves overlay=\"white-slight\"></mdb-mask>\n          </mdb-col>\n          <mdb-col col=\"6\">\n\n          </mdb-col>\n          <mdb-col col=\"2\">\n            <mdb-btn tag=\"a\" floating size=\"lg\" v-on:click=\"changeFavourite(user.id,user.name)\" color=\"primary\" ><mdb-icon icon=\"star\" :class=\"user.favourite ? 'fa-star' : 'fa-star-ini'\"/></mdb-btn>\n          </mdb-col>\n        </mdb-row>\n      </mdb-view>\n      <mdb-card-body class=\"text-center pb-0\" cascade>\n        <mdb-card-title><strong>{{user.name}}</strong></mdb-card-title>\n        <h5 class=\"blue-text\"><strong>{{user.email}}</strong></h5>\n        <mdb-card-footer class=\"text-muted mt-4\">\n          <mdb-card-text class=\"width-footer\">{{user.streetName}}, {{user.streetNumber}}, {{user.city}}, {{user.state}}</mdb-card-text>\n        </mdb-card-footer>\n      </mdb-card-body>\n    </mdb-card>\n  </mdb-container>\n</template>\n\n<script>\nimport {mdbContainer, mdbRow, mdbCol, mdbBtn, mdbIcon, mdbCard, mdbView, mdbMask, mdbCardImage, mdbCardTitle, mdbCardText, mdbCardFooter, mdbCardBody} from 'mdbvue';\n//import Map from \"../components/MapDetails\";\nimport Vue from \"vue\";\nexport default {\n  name: 'Users',\n  props:{\n    user: Object\n  },\n  data() {\n    return {\n      favouritesUsers: [],\n      error:false\n    }\n  },\n  components:{\n    mdbContainer,\n    mdbRow,\n    mdbCol,\n    mdbBtn,\n    mdbIcon,\n    mdbCard,\n    mdbView,\n    mdbMask,\n    mdbCardImage,\n    mdbCardTitle,\n    mdbCardText,\n    mdbCardFooter,\n    mdbCardBody\n  },\n  mounted(){\n    this.initFavourites()\n  },\n  methods:{\n    async initFavourites(){\n      await this.getFavourites()\n      await this.matchFavourites()\n    },\n    changeFavourite(id, name){\n      if(this.user.favourite == true){\n        this.deleteFavourite(id)\n      }else{\n        this.postFavourite(id,name)\n      }\n    },\n    postFavourite(id, name){\n      let user = {\n        id,\n        name\n      }\n      Vue.axios.post(\"http://localhost:3000/users\", user).\n      then(() => {\n        this.getFavourites()\n      })\n      .catch(() => {\n        this.error = true\n      });\n        \n    },\n    getFavourites(){\n      Vue.axios(\"http://localhost:3000/users\").then((result) => {\n        this.favouritesUsers = result.data\n      })\n      .catch(() => {\n        this.error = true\n      });\n    },\n    deleteFavourite(id){\n      Vue.axios.delete(\"http://localhost:3000/users/\"+id).\n      then(() => {\n        this.getFavourites()\n      })\n      .catch(() => {\n        this.error = true\n      });\n    },\n    matchFavourites(){\n      console.log(this.favouritesUsers)\n      for (let n=0;n< this.$parent.users.length;n++){\n        if(this.favouritesUsers.find( user => user.id == this.$parent.users[n].id)){\n           console.log('entra')\n          if(this.$parent.users[n].favourite == true){\n            this.$parent.users[n].favourite = false\n            this.user.favourite = false\n            console.log('es false')\n          }else{\n            this.$parent.users[n].favourite = true\n            this.user.favourite = true\n            console.log('es true')\n          }\n          \n        }\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.fa-star\n  color: yellow\n\n.fa-star-ini\n  color: white\n</style>\n"],"sourceRoot":"src/views"}]}