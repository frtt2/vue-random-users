{"remainingRequest":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/src/views/Details.vue?vue&type=style&index=0&id=70b16c82&lang=sass&scoped=true&","dependencies":[{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/src/views/Details.vue","mtime":1616996463391},{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5mYS1zdGFyCiAgY29sb3I6IHllbGxvdwoKLmZhLXN0YXItaW5pCiAgY29sb3I6IHdoaXRlCg=="},{"version":3,"sources":["Details.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;AACA;;AAEA;AACA","file":"Details.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <mdb-container class=\"mt-4\">\n     <mdb-row class=\"d-flex justify-content-end\">\n        <mdb-btn class=\"mr-3\" color=\"primary\" @click=\"$router.push({ name: 'Users'})\"><mdb-icon icon=\"arrow-left\"/></mdb-btn>\n    </mdb-row>\n    <mdb-card wide>\n      <mdb-view hover cascade>\n        <mdb-row>\n          <mdb-col col=\"4\">\n            <mdb-card-image v-bind:src=\"user.imageLarge\" alt=\"Card image cap\" ></mdb-card-image>\n            <mdb-mask flex-center waves overlay=\"white-slight\"></mdb-mask>\n          </mdb-col>\n          <mdb-col col=\"6\">\n\n          </mdb-col>\n          <mdb-col col=\"2\">\n            <mdb-btn tag=\"a\" floating size=\"lg\" v-on:click=\"changeFavourite(user.id,user.name)\" color=\"primary\" ><mdb-icon icon=\"star\" :class=\"user.favourite ? 'fa-star' : 'fa-star-ini'\"/></mdb-btn>\n          </mdb-col>\n        </mdb-row>\n      </mdb-view>\n      <mdb-card-body class=\"text-center pb-0\" cascade>\n        <mdb-card-title><strong>{{user.name}}</strong></mdb-card-title>\n        <h5 class=\"blue-text\"><strong>{{user.email}}</strong></h5>\n        <mdb-card-footer class=\"text-muted mt-4\">\n          <mdb-card-text class=\"width-footer\">{{user.streetName}}, {{user.streetNumber}}, {{user.city}}, {{user.state}}</mdb-card-text>\n        </mdb-card-footer>\n      </mdb-card-body>\n    </mdb-card>\n  </mdb-container>\n</template>\n\n<script>\nimport {mdbContainer, mdbRow, mdbCol, mdbBtn, mdbIcon, mdbCard, mdbView, mdbMask, mdbCardImage, mdbCardTitle, mdbCardText, mdbCardFooter, mdbCardBody} from 'mdbvue';\n//import Map from \"../components/MapDetails\";\nimport Vue from \"vue\";\nexport default {\n  name: 'Users',\n  props:{\n    user: Object\n  },\n  data() {\n    return {\n      favouritesUsers: [],\n      error:false\n    }\n  },\n  components:{\n    mdbContainer,\n    mdbRow,\n    mdbCol,\n    mdbBtn,\n    mdbIcon,\n    mdbCard,\n    mdbView,\n    mdbMask,\n    mdbCardImage,\n    mdbCardTitle,\n    mdbCardText,\n    mdbCardFooter,\n    mdbCardBody\n  },\n  mounted(){\n    this.initFavourites()\n  },\n  methods:{\n    async initFavourites(){\n      await this.getFavourites()\n      await this.matchFavourites()\n    },\n    changeFavourite(id, name){\n      if(this.user.favourite == true){\n        this.deleteFavourite(id)\n      }else{\n        this.postFavourite(id,name)\n      }\n    },\n    postFavourite(id, name){\n      let user = {\n        id,\n        name\n      }\n      Vue.axios.post(\"http://localhost:3000/users\", user).\n      then(() => {\n        this.getFavourites()\n      })\n      .then(()=>{\n        this.matchFavourites()\n      })\n      .catch(() => {\n        this.error = true\n      });\n        \n    },\n    getFavourites(){\n      Vue.axios(\"http://localhost:3000/users\").then((result) => {\n        this.favouritesUsers = result.data\n      })\n      .then((res) => {\n        console.log(res)\n      })\n      .catch(() => {\n        this.error = true\n      });\n    },\n    deleteFavourite(id){\n      Vue.axios.delete(\"http://localhost:3000/users/\"+id).\n      then(() => {\n        this.getFavourites()\n      })\n      .then(()=>{\n        this.matchFavourites()\n      })\n      .catch(() => {\n        this.error = true\n      });\n    },\n    matchFavourites(){\n      console.log(this.favouritesUsers)\n      for (let n=0;n< this.$parent.users.length;n++){\n        if(this.favouritesUsers.find( user => user.id == this.$parent.users[n].id)){\n           console.log('entra')\n          if(this.$parent.users[n].favourite == true){\n            this.$parent.users[n].favourite = false\n            this.user.favourite = false\n            console.log('es false')\n          }else{\n            this.$parent.users[n].favourite = true\n            this.user.favourite = true\n            console.log('es true')\n          }\n          \n        }\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\" scoped>\n.fa-star\n  color: yellow\n\n.fa-star-ini\n  color: white\n</style>\n"]}]}