{"remainingRequest":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/src/views/Users.vue?vue&type=style&index=0&lang=sass&scope=true&","dependencies":[{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/src/views/Users.vue","mtime":1616995512353},{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/xoo3/Documentos/ACCIONA/aplicacion/vue-random-users/frontend/vue-random-users/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCiAgCi5wcnVlYmExCiAgYm9yZGVyOiAxcHggc29saWQgbm9uZQogIGJveC1zaGFkb3c6IG5vbmUhaW1wb3J0YW50CiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQhaW1wb3J0YW50CiAgY29sb3I6IHdoaXRlCgp0ZAogIGRpc3BsYXk6ZmxleAogIHRleHQtYWxpZ246Y2VudGVyCiAganVzdGlmeS1jb250ZW50OmNlbnRlcgoKLmFwcC1jb250ZW50CiAgcGFkZGluZzogNDBweCAxNXB4CgoudGFibGUtaGVpZ2h0CiAgaGVpZ2h0OiA2MzBweCFpbXBvcnRhbnQKCi5wYWdpbmF0aW9uLWhlaWdodAogIGhlaWdodDogMjBweAoKdGQKICBwYWRkaW5nOiAxMXB4IWltcG9ydGFudAoKLndpZHRoLWdlbmRlcgogIHdpZHRoOiA4MHB4IWltcG9ydGFudAoKLndpZHRoLW5hbWUKICB3aWR0aDogMjIwcHghaW1wb3J0YW50Cgoud2lkdGgtZW1haWwKICB3aWR0aDogMjIwcHghaW1wb3J0YW50Cgo="},{"version":3,"sources":["Users.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiQA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA","file":"Users.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <mdb-container class=\"mt-4\">\n      <mdb-row class=\"d-flex justify-content-end\">\n        <mdb-btn class=\"mr-3\" color=\"primary\" @click=\"fetchData\"><mdb-icon icon=\"search\"/></mdb-btn>\n        <mdb-btn class=\"mr-3\" color=\"primary\" @click=\"goExports\"><mdb-icon icon=\"file-export\"/></mdb-btn>\n      </mdb-row>\n      <mdb-row class=\"table-height\">\n        <mdb-col>\n          <mdb-tbl >\n            <mdb-tbl-head>\n              <tr>\n                <th>Género</th>\n                <th>Nombre</th>\n                <th>Email</th>\n                <th>Nacionalidad</th>\n                <th>Fecha de nacimiento</th>\n                <th>Fecha de registro</th>\n                <th></th>\n              </tr>\n            </mdb-tbl-head>\n            <mdb-tbl-body v-if=\"users.length>0\">\n              <tr v-for=\"item in limitedItems\" :key=\"item.name\" >\n                <td class=\"width-gender\">{{item.gender}}</td>\n                <td class=\"width-name\">{{item.name}}</td>\n                <td class=\"width-email\">{{item.email}}</td>\n                <td>{{item.nationality}}</td>\n                <td>{{item.birthdate | moment(\"MM-DD-YYYY\") }}</td>\n                <td>{{item.registrationDate | moment(\"MM-DD-YYYY\") }}</td>\n                <td ><mdb-btn size=\"sm\" class=\"m-0\" color=\"primary\"  @click=\"$router.push({ name: 'Details', params: {user: item }})\"><mdb-icon icon=\"info\"/></mdb-btn></td>\n              </tr>\n            </mdb-tbl-body>\n            <mdb-tbl-body v-else class=\"table-body\">\n              <tr>\n                <td><h4>NO DATA</h4></td>\n              </tr>\n            </mdb-tbl-body>\n          </mdb-tbl>\n        </mdb-col>\n      </mdb-row>\n      <mdb-row class=\"mb-5 pagination-height\" >\n        <mdb-col class=\"d-flex justify-content-center\" v-if=\"numPags>1\">\n          <mdb-pagination >\n            <mdb-page-nav prev v-bind:class=\"{'disabled':(page == 1)}\" v-on:click.native=\"prevPag()\"></mdb-page-nav>\n            <mdb-page-item v-on:click.native=\"changePag(n)\" v-for=\"n in numPags\" :key=\"n\" v-bind:class=\"{'active':(page == n)}\">{{n}}</mdb-page-item>\n            <mdb-page-nav next v-bind:class=\"{'disabled':(page == numPags)}\" v-on:click.native=\"nextPag()\"></mdb-page-nav>\n          </mdb-pagination>\n        </mdb-col>\n      </mdb-row>\n      <mdb-row class=\"mt-3\">\n        <mdb-col>\n          <h6>Género</h6>\n          <select class=\"browser-default custom-select\" v-model=\"genderSelected\">\n            <option :key=\"n.value\" :value=\"n.value\" v-for=\"n in genderOptions\">{{n.text}}</option>\n          </select>\n        </mdb-col>\n        <mdb-col>\n          <h6>Edad</h6>\n          <div class=\"app-content pt-2\">\n            <vue-range-slider v-model=\"value\" :min=\"min\" :max=\"max\" :enable-cross=\"enableCross\"></vue-range-slider>\n          </div>\n        </mdb-col>\n        <mdb-col>\n          <h6>Nacionalidad</h6>\n          <select class=\"browser-default custom-select\" v-model=\"natSelected\">\n            <option :key=\"n.value\" :value=\"n.value\" v-for=\"n in natOptions\">{{n.text}}</option>\n          </select>\n        </mdb-col>\n      </mdb-row>\n    </mdb-container>\n \n</template>\n\n<script>\n\nimport Vue from \"vue\";\nimport {mdbContainer, mdbRow, mdbCol,  mdbTbl, mdbTblHead, mdbTblBody , mdbBtn, mdbIcon, mdbPagination, mdbPageItem, mdbPageNav} from 'mdbvue';\nimport 'vue-range-component/dist/vue-range-slider.css';\nimport vueRangeSlider from 'vue-range-component';\nimport moment from 'moment';\n\n\nexport default {\n  name: 'Users',\n  components:{\n    mdbContainer,\n    mdbRow,\n    mdbCol,\n    mdbTbl,\n    mdbTblHead,\n    mdbBtn,\n    mdbIcon,\n    mdbTblBody,\n    mdbPagination,\n    mdbPageItem,\n    mdbPageNav,\n    vueRangeSlider\n  },\n  data() {\n    return {\n      users: [],\n      usersFiltered:[],\n      numUsers: 1,\n      usersPag: [],\n      page:1,\n      value: [0,122],\n      natSelected: '',\n      genderSelected: '',\n      loaded: false,\n      genderOptions:[\n        { text: 'Todos', value: '' },\n        { text: 'Male', value: 'male' },\n        { text: 'female', value: 'Female' },\n      ],\n      natOptions: [\n        { text: 'Todas', value: '' },\n        { text: 'AU', value: 'AU' },\n        { text: 'BR', value: 'BR' },\n        { text: 'CA', value: 'CA' },\n        { text: 'CH', value: 'CH' },\n        { text: 'DE', value: 'DE' },\n        { text: 'DK', value: 'DK' },\n        { text: 'ES', value: 'ES' },\n        { text: 'FI', value: 'FI' },\n        { text: 'FR', value: 'FR' },\n        { text: 'GB', value: 'GB' },\n        { text: 'IE', value: 'IE' },\n        { text: 'IR', value: 'IR' },\n        { text: 'NO', value: 'NO' },\n        { text: 'NL', value: 'NL' },\n        { text: 'NZ', value: 'NZ' },\n        { text: 'TR', value: 'TR' },\n        { text: 'US', value: 'US' }\n      ]\n    }\n  },\n  created() {\n    this.min = 0\n    this.max = 122\n    this.enableCross = false\n\n    this.users = this.$parent.users\n    this.usersFiltered = this.$parent.usersFiltered\n    this.numUsers = this.$parent.numUsers\n    this.usersPag = this.$parent.usersPag\n    this.page = this.$parent.page\n    this.value = this.$parent.value\n    this.natSelected = this.$parent.natSelected\n    this.genderSelected = this.$parent.genderSelected\n    this.loaded = this.$parent.loaded\n  },\n  beforeDestroy() {\n    this.$parent.users = this.users\n    this.$parent.usersFiltered = this.usersFiltered\n    this.$parent.numUsers = this.numUsers\n    this.$parent.usersPag = this.usersPag\n    this.$parent.page = this.page\n    this.$parent.value = this.value\n    this.$parent.natSelected = this.natSelected\n    this.$parent.genderSelected = this.genderSelected\n    this.$parent.loaded = this.loaded\n  },\n  mounted(){\n    this.fetchData\n  },\n  computed: {\n    limitedItems() {\n      return this.usersFiltered.slice(parseInt(this.page-1)*10, parseInt(this.page)*10 )\n    },\n    numPags(){\n      return Math.trunc(parseInt(this.numUsers)/10)\n    },\n  },\n  methods:{\n    //PAGINATION\n    async goExports(){\n      await this.fetchData()\n      this.$router.push({ name: 'Exports', params: {users: this.users }})\n    },\n    changePag(currentPage){\n      this.page = currentPage\n    },\n    prevPag(){\n      this.page = this.page - 1\n    },\n    nextPag(){\n      this.page = this.page + 1\n    },\n    //SERVICIOS\n    filterItems(){\n      let itemsFiltered = this.users\n\n      if (this.natSelected!==''){\n        itemsFiltered = itemsFiltered.filter(obj => obj.nationality == this.natSelected)\n      }\n\n      if (this.genderSelected!==''){\n        itemsFiltered= itemsFiltered.filter(obj => obj.gender == this.genderSelected)\n      }\n      itemsFiltered = itemsFiltered.filter(obj => obj.age > this.value[0] && obj.age < this.value[1])\n      this.usersFiltered = itemsFiltered\n      this.getNumUsers()\n\n    },\n    getDataUsers(res){\n      this.users2 = res.data.results\n    },\n    getNumUsers(){\n      this.numUsers = this.usersFiltered.length\n      this.page = 1\n    },\n    prepareData(){\n      this.users = this.users2.map(user => ({\n        id: user.login.uuid,\n        name: user.name.title + \" \" + user.name.first + \" \" + user.name.last,\n        username: user.login.username,\n        gender: user.gender,\n        nationality: user.nat,\n        streetNumber: user.location.street.number,\n        streetName: user.location.street.name,\n        city: user.location.city,\n        state: user.location.state,\n        postcode: user.location.postcode,\n        latitude: user.location.coordinates.latitude,\n        longitude: user.location.coordinates.longitude,\n        registered: user.registered.date,\n        phone: user.phone,\n        cell: user.cell,\n        email: user.email,\n        imageLarge: user.picture.large,\n        birthdate: moment().subtract(user.dob.age, 'years').format('YYYY-MM-DD'),\n        age:user.dob.age,\n        registrationDate: user.registered.date,\n        favourite:false\n      }))\n    },\n    async fetchData (){\n      try{\n        if(this.loaded == false){\n          const res = await Vue.axios({url:'/api/1.3/?results=100&seed=abc'})\n          await this.getDataUsers(res)\n          await this.prepareData()\n        }\n        await this.filterItems()\n        await this.getNumUsers()\n        this.loaded = true\n      }catch(e){\n        console.log(e)\n      }\n    }\n    /*dataPagination(){\n      this.usersPag = this.users.slice(parseInt(this.page)*10, parseInt(this.page)*10 + 10);\n    }*/\n  }\n}\n</script>\n\n<style lang=\"sass\" scope>  \n.prueba1\n  border: 1px solid none\n  box-shadow: none!important\n  background: transparent!important\n  color: white\n\ntd\n  display:flex\n  text-align:center\n  justify-content:center\n\n.app-content\n  padding: 40px 15px\n\n.table-height\n  height: 630px!important\n\n.pagination-height\n  height: 20px\n\ntd\n  padding: 11px!important\n\n.width-gender\n  width: 80px!important\n\n.width-name\n  width: 220px!important\n\n.width-email\n  width: 220px!important\n\n</style>\n"]}]}